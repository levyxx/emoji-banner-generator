/**
 * Pixel font definitions for rendering text into bitmaps.
 * Each character is represented by a 2D pattern using # for filled pixels.
 */

export interface PixelFont {
  /** Font name */
  name: string;
  /** Number of rows in each character */
  height: number;
  /** Spaces between characters */
  letterSpacing: number;
  /** Spaces between lines */
  lineSpacing: number;
  /** Character bitmap patterns */
  map: Record<string, string[]>;
}

export const DEFAULT_FONT_NAME = 'block';

const blockFont: PixelFont = {
  name: DEFAULT_FONT_NAME,
  height: 7,
  letterSpacing: 1,
  lineSpacing: 1,
  map: {
    A: [
      '.###.',
      '#...#',
      '#...#',
      '#####',
      '#...#',
      '#...#',
      '#...#',
    ],
    B: [
      '####.',
      '#...#',
      '#...#',
      '####.',
      '#...#',
      '#...#',
      '####.',
    ],
    C: [
      '.###.',
      '#...#',
      '#....',
      '#....',
      '#....',
      '#...#',
      '.###.',
    ],
    D: [
      '####.',
      '#...#',
      '#...#',
      '#...#',
      '#...#',
      '#...#',
      '####.',
    ],
    E: [
      '#####',
      '#....',
      '#....',
      '####.',
      '#....',
      '#....',
      '#####',
    ],
    F: [
      '#####',
      '#....',
      '#....',
      '####.',
      '#....',
      '#....',
      '#....',
    ],
    G: [
      '.###.',
      '#...#',
      '#....',
      '#.###',
      '#...#',
      '#...#',
      '.###.',
    ],
    H: [
      '#...#',
      '#...#',
      '#...#',
      '#####',
      '#...#',
      '#...#',
      '#...#',
    ],
    I: [
      '#####',
      '..#..',
      '..#..',
      '..#..',
      '..#..',
      '..#..',
      '#####',
    ],
    J: [
      '..###',
      '...#.',
      '...#.',
      '...#.',
      '...#.',
      '#..#.',
      '.##..',
    ],
    K: [
      '#...#',
      '#..#.',
      '#.#..',
      '##...',
      '#.#..',
      '#..#.',
      '#...#',
    ],
    L: [
      '#....',
      '#....',
      '#....',
      '#....',
      '#....',
      '#....',
      '#####',
    ],
    M: [
      '#...#',
      '##.##',
      '#.#.#',
      '#...#',
      '#...#',
      '#...#',
      '#...#',
    ],
    N: [
      '#...#',
      '##..#',
      '#.#.#',
      '#..##',
      '#...#',
      '#...#',
      '#...#',
    ],
    O: [
      '.###.',
      '#...#',
      '#...#',
      '#...#',
      '#...#',
      '#...#',
      '.###.',
    ],
    P: [
      '####.',
      '#...#',
      '#...#',
      '####.',
      '#....',
      '#....',
      '#....',
    ],
    Q: [
      '.###.',
      '#...#',
      '#...#',
      '#...#',
      '#.#.#',
      '#..#.',
      '.##.#',
    ],
    R: [
      '####.',
      '#...#',
      '#...#',
      '####.',
      '#.#..',
      '#..#.',
      '#...#',
    ],
    S: [
      '.###.',
      '#...#',
      '#....',
      '.###.',
      '....#',
      '#...#',
      '.###.',
    ],
    T: [
      '#####',
      '..#..',
      '..#..',
      '..#..',
      '..#..',
      '..#..',
      '..#..',
    ],
    U: [
      '#...#',
      '#...#',
      '#...#',
      '#...#',
      '#...#',
      '#...#',
      '.###.',
    ],
    V: [
      '#...#',
      '#...#',
      '#...#',
      '#...#',
      '#...#',
      '.#.#.',
      '..#..',
    ],
    W: [
      '#...#',
      '#...#',
      '#...#',
      '#.#.#',
      '#.#.#',
      '##.##',
      '#...#',
    ],
    X: [
      '#...#',
      '#...#',
      '.#.#.',
      '..#..',
      '.#.#.',
      '#...#',
      '#...#',
    ],
    Y: [
      '#...#',
      '#...#',
      '.#.#.',
      '..#..',
      '..#..',
      '..#..',
      '..#..',
    ],
    Z: [
      '#####',
      '....#',
      '...#.',
      '..#..',
      '.#...',
      '#....',
      '#####',
    ],
    '0': [
      '.###.',
      '#...#',
      '#..##',
      '#.#.#',
      '##..#',
      '#...#',
      '.###.',
    ],
    '1': [
      '..#..',
      '.##..',
      '..#..',
      '..#..',
      '..#..',
      '..#..',
      '.###.',
    ],
    '2': [
      '.###.',
      '#...#',
      '....#',
      '...#.',
      '..#..',
      '.#...',
      '#####',
    ],
    '3': [
      '#####',
      '....#',
      '...#.',
      '..##.',
      '....#',
      '#...#',
      '.###.',
    ],
    '4': [
      '#...#',
      '#...#',
      '#...#',
      '#####',
      '....#',
      '....#',
      '....#',
    ],
    '5': [
      '#####',
      '#....',
      '####.',
      '....#',
      '....#',
      '#...#',
      '.###.',
    ],
    '6': [
      '.###.',
      '#....',
      '####.',
      '#...#',
      '#...#',
      '#...#',
      '.###.',
    ],
    '7': [
      '#####',
      '....#',
      '...#.',
      '..#..',
      '.#...',
      '.#...',
      '.#...',
    ],
    '8': [
      '.###.',
      '#...#',
      '#...#',
      '.###.',
      '#...#',
      '#...#',
      '.###.',
    ],
    '9': [
      '.###.',
      '#...#',
      '#...#',
      '.####',
      '....#',
      '...#.',
      '.##..',
    ],
    ' ': [
      '...',
      '...',
      '...',
      '...',
      '...',
      '...',
      '...',
    ],
    '!': [
      '..#..',
      '..#..',
      '..#..',
      '..#..',
      '..#..',
      '.....',
      '..#..',
    ],
    '?': [
      '.###.',
      '#...#',
      '....#',
      '..##.',
      '..#..',
      '.....',
      '..#..',
    ],
    '.': [
      '.....',
      '.....',
      '.....',
      '.....',
      '.....',
      '..#..',
      '..#..',
    ],
    ',': [
      '.....',
      '.....',
      '.....',
      '.....',
      '.....',
      '..#..',
      '.#...',
    ],
    ':': [
      '.....',
      '..#..',
      '..#..',
      '.....',
      '..#..',
      '..#..',
      '.....',
    ],
    ';': [
      '.....',
      '..#..',
      '..#..',
      '.....',
      '..#..',
      '..#..',
      '.#...',
    ],
    '-': [
      '.....',
      '.....',
      '.....',
      '.###.',
      '.....',
      '.....',
      '.....',
    ],
    '_': [
      '.....',
      '.....',
      '.....',
      '.....',
      '.....',
      '.....',
      '#####',
    ],
    '\'': [
      '..#..',
      '..#..',
      '.#...',
      '.....',
      '.....',
      '.....',
      '.....',
    ],
    '"': [
      '.#.#.',
      '.#.#.',
      '..#..',
      '.....',
      '.....',
      '.....',
      '.....',
    ],
    '+': [
      '.....',
      '..#..',
      '..#..',
      '#####',
      '..#..',
      '..#..',
      '.....',
    ],
    '/': [
      '.....',
      '....#',
      '...#.',
      '..#..',
      '.#...',
      '#....',
      '.....',
    ],
    '\\': [
      '.....',
      '#....',
      '.#...',
      '..#..',
      '...#.',
      '....#',
      '.....',
    ],
    '(': [
      '..#..',
      '.#...',
      '#....',
      '#....',
      '#....',
      '.#...',
      '..#..',
    ],
    ')': [
      '..#..',
      '...#.',
      '....#',
      '....#',
      '....#',
      '...#.',
      '..#..',
    ],
    '[': [
      '.###.',
      '.#...',
      '.#...',
      '.#...',
      '.#...',
      '.#...',
      '.###.',
    ],
    ']': [
      '.###.',
      '...#.',
      '...#.',
      '...#.',
      '...#.',
      '...#.',
      '.###.',
    ],
    '{': [
      '..##.',
      '.#...',
      '.#...',
      '#....',
      '.#...',
      '.#...',
      '..##.',
    ],
    '}': [
      '.##..',
      '...#.',
      '...#.',
      '....#',
      '...#.',
      '...#.',
      '.##..',
    ],
    '=': [
      '.....',
      '.....',
      '.###.',
      '.....',
      '.###.',
      '.....',
      '.....',
    ],
    '*': [
      '...#.',
      '.#.#.',
      '..#..',
      '#...#',
      '..#..',
      '.#.#.',
      '...#.',
    ],
  },
};

const FONTS: Record<string, PixelFont> = {
  [blockFont.name]: blockFont,
};

/**
 * Retrieve a font by name. Falls back to default if not found.
 */
export function getFont(name: string = DEFAULT_FONT_NAME): PixelFont {
  return FONTS[name] || FONTS[DEFAULT_FONT_NAME];
}

/**
 * List available font names.
 */
export function getAvailableFonts(): string[] {
  return Object.keys(FONTS);
}
